{"version":3,"sources":["api/getUsersFromServer.js","store/usersLoadingReducer.js","store/sortingReducer.js","store/paginationReducer.js","store/queryReducer.js","store/index.js","helpers/highlightText.js","components/UserRow.js","components/Footer.js","components/Header.js","components/UsersTable/UsersTable.js","helpers/debounce.js","components/UsersTable/index.js","components/App/App.js","components/App/index.js","index.js"],"names":["getUsersFromServer","response","regenerator_default","a","async","_context","prev","next","awrap","fetch","sent","abrupt","json","stop","initialState","users","isLoading","hasError","usersLoadingReducer","state","arguments","length","undefined","action","type","Object","objectSpread2","activeColumn","direction","sortingReducer","page","usersPerPage","paginationReducer","queryReducer","query","getIsLoading","usersLoading","getHasError","getActiveColumn","sorting","getDirection","getPage","pagination","getUsersPerPage","getUsers","createSelector","searchedUsers","filter","_ref","id","name","surname","desc","toLowerCase","includes","by","string","b","localeCompare","number","sortType","callback","sortedUsers","sort","reverse","reducer","combineReducers","store","createStore","applyMiddleware","thunk","highlightText","text","highlightedText","toString","split","RegExp","concat","map","part","i","react_default","createElement","react","key","style","backgroundColor","UserRow","user","highlightedValue","Footer","firstUser","lastUser","usersAmount","pagesAmount","activePage","onSwitchPage","pageButtons","Array","fill","_","firstVisiblePage","lastVisiblePage","visiblePageButtons","slice","className","onClick","usersPerPageOptions","value","Header","onChangeUsersPerPage","onSearchUsers","inputValue","selectValue","Select","placeholder","options","onChange","Input","icon","iconPosition","HEADERS","UsersTable","setActiveColumn","setDirection","setPage","setUsersPerPage","setQuery","_useState","useState","_useState2","slicedToArray","setHighlightedValue","applySearchWithDebounce","useCallback","f","delay","timer","clearTimeout","_len","args","_key","setTimeout","apply","debounce","Math","ceil","visibleUsers","components_Header","$","data","replace","keys","header","clickedColumn","components_UserRow","components_Footer","currentPage","connect","App","loadData","components_UsersTable","Fragment","dispatch","usersData","t0","ReactDOM","render","es","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.4923410e.chunk.js","sourcesContent":["const USERS_URL = 'https://my-json-server.typicode.com/iDinAle/demo/users';\n\nexport const getUsersFromServer = async() => {\n  const response = await fetch(USERS_URL);\n\n  return response.json();\n};\n","import { getUsersFromServer } from '../api/getUsersFromServer';\n\nconst USERS_LOADING_START = 'USERS_LOADING_START';\nconst USERS_LOADING_SUCCESS = 'USERS_LOADING_SUCCESS';\nconst USERS_LOADING_FAIL = 'USERS_LOADING_FAIL';\n\nexport const startUsersLoading = () => ({ type: USERS_LOADING_START });\nexport const handleUsersLoadingFail = () => ({ type: USERS_LOADING_FAIL });\nexport const handleUsersLoadingSuccess = users => ({\n  type: USERS_LOADING_SUCCESS,\n  users,\n});\n\nexport const loadData = () => async(dispatch) => {\n  dispatch(startUsersLoading());\n\n  try {\n    const usersData = await getUsersFromServer();\n\n    return dispatch(handleUsersLoadingSuccess(\n      usersData.map(user => ({\n        ...user,\n        id: +user.id,\n      }))\n    ));\n  } catch (e) {\n    dispatch(handleUsersLoadingFail());\n  }\n};\n\nconst initialState = {\n  users: [],\n  isLoading: false,\n  hasError: false,\n};\n\nconst usersLoadingReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case USERS_LOADING_START:\n      return {\n        ...state,\n        isLoading: true,\n        hasError: false,\n      };\n\n    case USERS_LOADING_SUCCESS:\n      return {\n        ...state,\n        users: action.users,\n        isLoading: false,\n      };\n\n    case USERS_LOADING_FAIL:\n      return {\n        ...state,\n        isLoading: false,\n        hasError: true,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default usersLoadingReducer;\n","const SET_ACTIVE_COLUMN = 'SET_ACTIVE_COLUMN';\nconst SET_DIRECTION = 'SET_DIRECTION';\n\nexport const setActiveColumn = activeColumn => ({\n  type: SET_ACTIVE_COLUMN,\n  activeColumn,\n});\nexport const setDirection = direction => ({\n  type: SET_DIRECTION,\n  direction,\n});\n\nconst initialState = {\n  activeColumn: '',\n  direction: 'asc',\n};\n\nconst sortingReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_ACTIVE_COLUMN:\n      return {\n        ...state,\n        activeColumn: action.activeColumn,\n      };\n\n    case SET_DIRECTION:\n      return {\n        ...state,\n        direction: action.direction,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default sortingReducer;\n","const SET_ACTIVE_PAGE = 'SET_ACTIVE_PAGE';\nconst SET_USERS_PER_PAGE = 'SET_USERS_PER_PAGE';\n\nexport const setPage = page => ({\n  type: SET_ACTIVE_PAGE,\n  page,\n});\nexport const setUsersPerPage = usersPerPage => ({\n  type: SET_USERS_PER_PAGE,\n  usersPerPage,\n});\n\nconst initialState = {\n  page: 1,\n  usersPerPage: 5,\n};\n\nconst paginationReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_ACTIVE_PAGE:\n      return {\n        ...state,\n        page: action.page,\n      };\n\n    case SET_USERS_PER_PAGE:\n      return {\n        ...state,\n        usersPerPage: action.usersPerPage,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default paginationReducer;\n","const SET_QUERY = 'SET_QUERY';\n\nexport const setQuery = query => ({\n  type: SET_QUERY,\n  query,\n});\n\nconst queryReducer = (state = '', action) => {\n  switch (action.type) {\n    case SET_QUERY:\n      return action.query;\n\n    default:\n      return state;\n  }\n};\n\nexport default queryReducer;\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\nimport { createSelector } from 'reselect';\nimport thunk from 'redux-thunk';\n\nimport usersLoadingReducer from './usersLoadingReducer';\nimport sortingReducer from './sortingReducer';\nimport paginationReducer from './paginationReducer';\nimport queryReducer from './queryReducer';\n\nexport const getIsLoading = state => state.usersLoading.isLoading;\nexport const getHasError = state => state.usersLoading.hasError;\nexport const getActiveColumn = state => state.sorting.activeColumn;\nexport const getDirection = state => state.sorting.direction;\nexport const getPage = state => state.pagination.page;\nexport const getUsersPerPage = state => state.pagination.usersPerPage;\nexport const getQuery = state => state.query;\nexport const getUsers = createSelector(\n  [\n    state => state.usersLoading.users,\n    getActiveColumn,\n    getDirection,\n    getQuery,\n  ],\n\n  (users, activeColumn, direction, query) => {\n    const searchedUsers = users.filter(({ id, name, surname, desc }) =>\n      (id + name + surname + desc).toLowerCase().includes(query)\n    );\n\n    const by = {\n      string: (a, b) => a[activeColumn].localeCompare(b[activeColumn]),\n      number: (a, b) => a[activeColumn] - b[activeColumn],\n    };\n\n    let sortType = '';\n\n    if (users[0]) {\n      sortType = typeof users[0][activeColumn];\n    }\n\n    const callback = by[sortType] || (() => 0);\n    const sortedUsers = searchedUsers.sort(callback);\n\n    if (direction === 'desc') {\n      sortedUsers.reverse();\n    }\n\n    return sortedUsers;\n  }\n);\n\nconst reducer = combineReducers({\n  usersLoading: usersLoadingReducer,\n  sorting: sortingReducer,\n  pagination: paginationReducer,\n  query: queryReducer,\n});\n\nconst store = createStore(reducer, applyMiddleware(thunk));\n\nexport default store;\n","import React, { Fragment } from 'react';\n\nexport const highlightText = (text, highlightedText) => {\n  if (!highlightedText || !text) {\n    return text;\n  }\n\n  const parts = text.toString().split(new RegExp(`(${highlightedText})`, 'gi'));\n\n  return parts.map((part, i) => (\n    <Fragment key={`${part + i}`}>\n      {part.toLowerCase() === highlightedText.toLowerCase()\n        ? <span style={{ backgroundColor: '#f4fc03' }}>{part}</span>\n        : part}\n    </Fragment>\n  ));\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { highlightText } from '../helpers/highlightText';\n\nconst UserRow = ({ user, highlightedValue }) => (\n  <tr>\n    <td>{highlightText(user.id, highlightedValue)}</td>\n    <td>{highlightText(user.name, highlightedValue)}</td>\n    <td>{highlightText(user.surname, highlightedValue)}</td>\n    <td>{highlightText(user.desc, highlightedValue)}</td>\n  </tr>\n);\n\nUserRow.propTypes = {\n  user: PropTypes.shape({\n    id: PropTypes.number,\n    name: PropTypes.string,\n    surname: PropTypes.string,\n    desc: PropTypes.string,\n  }).isRequired,\n  highlightedValue: PropTypes.string.isRequired,\n};\n\nexport default UserRow;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Footer = ({\n  firstUser,\n  lastUser,\n  usersAmount,\n  pagesAmount,\n  activePage,\n  onSwitchPage,\n}) => {\n  const pageButtons = new Array(pagesAmount).fill(0).map((_, i) => i + 1);\n  let firstVisiblePage = activePage - 1;\n  let lastVisiblePage = activePage + 1;\n\n  if (activePage === 1) {\n    firstVisiblePage = activePage;\n    lastVisiblePage = activePage + 2;\n  }\n\n  if (activePage === pagesAmount) {\n    firstVisiblePage = activePage - 2 < 1 ? 1 : activePage - 2;\n    lastVisiblePage = activePage;\n  }\n\n  const visiblePageButtons = pageButtons.slice(\n    firstVisiblePage - 1, lastVisiblePage\n  );\n\n  return (\n    <div className=\"table-options\">\n      <div>\n        {`Showing ${firstUser} to ${lastUser} of ${usersAmount} entries`}\n      </div>\n\n      <div className=\"table-pagination\">\n        <button\n          className=\"table-pagination__prev-btn\"\n          type=\"button\"\n          onClick={() => onSwitchPage(1)}\n        >\n          {'<<'}\n        </button>\n\n        <button\n          className=\"table-pagination__prev-btn\"\n          type=\"button\"\n          onClick={() => onSwitchPage(\n            activePage - 1 < 1 ? 1 : activePage - 1\n          )}\n        >\n          {'<'}\n        </button>\n\n        {visiblePageButtons.map(page => (\n          <button\n            onClick={() => onSwitchPage(page)}\n            type=\"button\"\n            key={page}\n          >\n            {page}\n          </button>\n        ))}\n\n        <button\n          className=\"paginator__prev-btn\"\n          type=\"button\"\n          onClick={() => onSwitchPage(\n            activePage + 1 > pagesAmount ? pagesAmount : activePage + 1\n          )}\n        >\n          {'>'}\n        </button>\n\n        <button\n          className=\"paginator__prev-btn\"\n          type=\"button\"\n          onClick={() => onSwitchPage(pagesAmount)}\n        >\n          {'>>'}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nFooter.propTypes = {\n  firstUser: PropTypes.number.isRequired,\n  lastUser: PropTypes.number.isRequired,\n  usersAmount: PropTypes.number.isRequired,\n  pagesAmount: PropTypes.number.isRequired,\n  activePage: PropTypes.number.isRequired,\n  onSwitchPage: PropTypes.func.isRequired,\n};\n\nexport default Footer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Input, Select } from 'semantic-ui-react';\n\nconst usersPerPageOptions = [\n  {\n    key: 2, value: 2, text: '2 users per page',\n  },\n  {\n    key: 3, value: 3, text: '3 users per page',\n  },\n  {\n    key: 5, value: 5, text: '5 users per page',\n  },\n  {\n    key: 10, value: 10, text: '10 users per page',\n  },\n  {\n    key: 20, value: 20, text: '20 users per page',\n  },\n];\n\nconst Header = (\n  { onChangeUsersPerPage, onSearchUsers, inputValue, selectValue }\n) => (\n  <div className=\"table-options\">\n    <Select\n      placeholder=\"Select users per page\"\n      options={usersPerPageOptions}\n      onChange={onChangeUsersPerPage}\n      value={selectValue}\n    />\n\n    <Input\n      icon=\"search\"\n      placeholder=\"Search...\"\n      iconPosition=\"left\"\n      type=\"search\"\n      onChange={onSearchUsers}\n      value={inputValue}\n    />\n  </div>\n);\n\nHeader.propTypes = {\n  onChangeUsersPerPage: PropTypes.func.isRequired,\n  onSearchUsers: PropTypes.func.isRequired,\n  inputValue: PropTypes.string.isRequired,\n  selectValue: PropTypes.number.isRequired,\n};\n\nexport default Header;\n","import React, { useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\n\nimport UserRow from '../UserRow';\nimport Footer from '../Footer';\nimport Header from '../Header';\nimport { debounce } from '../../helpers/debounce';\n\nconst HEADERS = {\n  id: 'ID',\n  name: 'Name',\n  surname: 'Surname',\n  desc: 'Description',\n};\n\nconst UsersTable = ({\n  users,\n  activeColumn,\n  direction,\n  setActiveColumn,\n  setDirection,\n  page,\n  usersPerPage,\n  setPage,\n  setUsersPerPage,\n  setQuery,\n}) => {\n  const [highlightedValue, setHighlightedValue] = useState('');\n\n  const sortUsers = (clickedColumn) => {\n    if (activeColumn !== clickedColumn) {\n      setDirection('asc');\n      setActiveColumn(clickedColumn);\n    } else {\n      setDirection(direction === 'asc' ? 'desc' : 'asc');\n    }\n  };\n\n  const switchPage = (currentPage) => {\n    setPage(currentPage);\n  };\n  const changeUsersPerPage = ($, data) => {\n    setUsersPerPage(data.value);\n    setPage(1);\n  };\n\n  const applySearchWithDebounce = useCallback(\n    debounce((value) => {\n      setQuery(value);\n    }, 500),\n    []\n  );\n\n  const searchUsers = ($, data) => {\n    const value = data.value.toLowerCase()\n      .replace(/[/\\\\+*()?[\\]]/g, '');\n\n    setPage(1);\n    setHighlightedValue(value);\n    applySearchWithDebounce(value);\n  };\n\n  const usersAmount = users.length;\n  const pagesAmount = Math.ceil(usersAmount / usersPerPage);\n  const firstUser = (page - 1) * usersPerPage + 1;\n  let lastUser = page * usersPerPage;\n  const visibleUsers = users.slice(firstUser - 1, lastUser);\n\n  lastUser = lastUser > usersAmount ? usersAmount : lastUser;\n\n  return (\n    <div>\n      <Header\n        onChangeUsersPerPage={changeUsersPerPage}\n        onSearchUsers={searchUsers}\n        inputValue={highlightedValue}\n        selectValue={usersPerPage}\n      />\n\n      <table>\n        <thead>\n          <tr>\n            {Object.keys(HEADERS).map(header => (\n              <th\n                onClick={() => sortUsers(header)}\n                key={header}\n              >\n                {HEADERS[header]}\n              </th>\n            ))}\n          </tr>\n        </thead>\n\n        <tbody>\n          {visibleUsers.map(user => (\n            <UserRow\n              key={user.id}\n              user={user}\n              highlightedValue={highlightedValue}\n            />\n          ))}\n        </tbody>\n      </table>\n\n      <Footer\n        usersAmount={usersAmount}\n        firstUser={firstUser}\n        lastUser={lastUser}\n        pagesAmount={pagesAmount}\n        activePage={page}\n        onSwitchPage={switchPage}\n      />\n    </div>\n  );\n};\n\nUsersTable.propTypes = {\n  users: PropTypes.arrayOf(\n    PropTypes.object\n  ).isRequired,\n  activeColumn: PropTypes.string.isRequired,\n  direction: PropTypes.string.isRequired,\n  setActiveColumn: PropTypes.func.isRequired,\n  setDirection: PropTypes.func.isRequired,\n  page: PropTypes.number.isRequired,\n  usersPerPage: PropTypes.number.isRequired,\n  setPage: PropTypes.func.isRequired,\n  setQuery: PropTypes.func.isRequired,\n};\n\nexport default UsersTable;\n","export const debounce = (f, delay) => {\n  let timer;\n\n  return (...args) => {\n    clearTimeout(timer);\n\n    timer = setTimeout(f, delay, ...args);\n  };\n};\n","import { connect } from 'react-redux';\nimport {\n  getActiveColumn,\n  getDirection,\n  getPage,\n  getUsersPerPage,\n} from '../../store';\nimport { setActiveColumn, setDirection } from '../../store/sortingReducer';\nimport { setPage, setUsersPerPage } from '../../store/paginationReducer';\nimport { setQuery } from '../../store/queryReducer';\n\nimport UsersTable from './UsersTable';\n\nconst mapStateToProps = state => ({\n  activeColumn: getActiveColumn(state),\n  direction: getDirection(state),\n  page: getPage(state),\n  usersPerPage: getUsersPerPage(state),\n});\n\nexport default connect(\n  mapStateToProps, {\n    setActiveColumn,\n    setDirection,\n    setPage,\n    setUsersPerPage,\n    setQuery,\n  }\n)(UsersTable);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './App.css';\nimport UsersTable from '../UsersTable';\n\nconst App = ({ users, isLoading, hasError, loadData }) => (\n  <div className=\"App\">\n    <h1>Table of users</h1>\n\n    {users.length ? (\n      <UsersTable users={users} />\n    ) : (\n      <>\n        <h2>{hasError ? 'Something went wrong ...' : 'No users yet!'}</h2>\n\n        <button\n          className=\"load-btn\"\n          type=\"button\"\n          onClick={async() => {\n            await loadData();\n          }}\n        >\n          {isLoading ? 'Loading ...' : 'Load users'}\n        </button>\n      </>\n    )}\n  </div>\n);\n\nApp.propTypes = {\n  users: PropTypes.arrayOf(\n    PropTypes.object\n  ).isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  hasError: PropTypes.bool.isRequired,\n  loadData: PropTypes.func.isRequired,\n};\n\nexport default App;\n","import { connect } from 'react-redux';\n\nimport App from './App';\nimport { getIsLoading, getHasError, getUsers } from '../../store';\nimport { loadData } from '../../store/usersLoadingReducer';\n\nconst mapStateToProps = state => ({\n  users: getUsers(state),\n  isLoading: getIsLoading(state),\n  hasError: getHasError(state),\n});\n\nexport default connect(mapStateToProps, { loadData })(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport App from './components/App';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n  ,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}